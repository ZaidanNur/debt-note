{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/laragon/www/debt-note/src/lib/api-client.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Create Axios Instance\r\nexport const apiClient = axios.create({\r\n    baseURL: '/api', // Memanggil Internal API Route Next.js (Mock)\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\n// Interceptor untuk handle response\r\napiClient.interceptors.response.use(\r\n    (response) => {\r\n        return response.data;\r\n    },\r\n    (error) => {\r\n        const message = error.response?.data?.message || error.message;\r\n        return Promise.reject(new Error(message));\r\n    }\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,YAAY,gKAAK,CAAC,MAAM,CAAC;IAClC,SAAS;IACT,SAAS;QACL,gBAAgB;IACpB;AACJ;AAEA,oCAAoC;AACpC,UAAU,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC/B,CAAC;IACG,OAAO,SAAS,IAAI;AACxB,GACA,CAAC;IACG,MAAM,UAAU,MAAM,QAAQ,EAAE,MAAM,WAAW,MAAM,OAAO;IAC9D,OAAO,QAAQ,MAAM,CAAC,IAAI,MAAM;AACpC"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///C:/laragon/www/debt-note/src/features/auth/api/auth.ts"],"sourcesContent":["import { apiClient } from '@/lib/api-client';\r\nimport { z } from 'zod';\r\n\r\n// Define Schemas\r\nexport const loginSchema = z.object({\r\n    email: z.string().email(),\r\n    password: z.string().min(6),\r\n});\r\n\r\nexport const registerSchema = z.object({\r\n    name: z.string().min(2),\r\n    email: z.string().email(),\r\n    password: z.string().min(6),\r\n});\r\n\r\nexport type LoginInput = z.infer<typeof loginSchema>;\r\nexport type RegisterInput = z.infer<typeof registerSchema>;\r\n\r\nexport type AuthResponse = {\r\n    user: {\r\n        id: string;\r\n        name: string;\r\n        email: string;\r\n    };\r\n    token: string;\r\n};\r\n\r\n// API Services\r\nexport const authApi = {\r\n    login: async (data: LoginInput): Promise<AuthResponse> => {\r\n        return apiClient.post('/auth/login', data);\r\n    },\r\n\r\n    register: async (data: RegisterInput): Promise<{ message: string }> => {\r\n        return apiClient.post('/auth/register', data);\r\n    },\r\n\r\n    logout: async () => {\r\n        // Call logout endpoint if exists, or/and clear local state\r\n        // For mock, we simply return\r\n        return true;\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAGO,MAAM,cAAc,kMAAC,CAAC,MAAM,CAAC;IAChC,OAAO,kMAAC,CAAC,MAAM,GAAG,KAAK;IACvB,UAAU,kMAAC,CAAC,MAAM,GAAG,GAAG,CAAC;AAC7B;AAEO,MAAM,iBAAiB,kMAAC,CAAC,MAAM,CAAC;IACnC,MAAM,kMAAC,CAAC,MAAM,GAAG,GAAG,CAAC;IACrB,OAAO,kMAAC,CAAC,MAAM,GAAG,KAAK;IACvB,UAAU,kMAAC,CAAC,MAAM,GAAG,GAAG,CAAC;AAC7B;AAeO,MAAM,UAAU;IACnB,OAAO,OAAO;QACV,OAAO,wJAAS,CAAC,IAAI,CAAC,eAAe;IACzC;IAEA,UAAU,OAAO;QACb,OAAO,wJAAS,CAAC,IAAI,CAAC,kBAAkB;IAC5C;IAEA,QAAQ;QACJ,2DAA2D;QAC3D,6BAA6B;QAC7B,OAAO;IACX;AACJ"}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file:///C:/laragon/www/debt-note/src/app/auth/login/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useMutation } from '@tanstack/react-query';\r\nimport { authApi } from '@/features/auth/api/auth';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { useForm } from 'react-hook-form';\r\nimport { z } from 'zod';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\n\r\nconst schema = z.object({\r\n    email: z.string().email('Email tidak valid'),\r\n    password: z.string().min(6, 'Password minimal 6 karakter'),\r\n});\r\n\r\ntype LoginForm = z.infer<typeof schema>;\r\n\r\nexport default function LoginPage() {\r\n    const router = useRouter();\r\n    const [error, setError] = useState('');\r\n    const [isCaptchaValid, setIsCaptchaValid] = useState(false);\r\n\r\n    const { register, handleSubmit, formState: { errors } } = useForm<LoginForm>({\r\n        resolver: zodResolver(schema),\r\n    });\r\n\r\n    const loginMutation = useMutation({\r\n        mutationFn: authApi.login,\r\n        onSuccess: () => {\r\n            // In a real app, global state for user would be updated here\r\n            router.push('/dashboard');\r\n        },\r\n        onError: (err: Error) => {\r\n            setError(err.message || 'Login gagal');\r\n        }\r\n    });\r\n\r\n    const onSubmit = (data: LoginForm) => {\r\n        if (!isCaptchaValid) {\r\n            setError('Silakan selesaikan CAPTCHA terlebih dahulu.');\r\n            return;\r\n        }\r\n        setError('');\r\n        loginMutation.mutate(data);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"text-center mb-8\">\r\n                <h2 className=\"text-3xl font-extrabold text-gray-900\">Masuk ke UtangHub</h2>\r\n                <p className=\"mt-2 text-sm text-gray-600\">\r\n                    Belum punya akun?{' '}\r\n                    <Link href=\"/auth/register\" className=\"font-medium text-indigo-600 hover:text-indigo-500\">\r\n                        Daftar disini\r\n                    </Link>\r\n                </p>\r\n            </div>\r\n\r\n            <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit(onSubmit)}>\r\n                {error && (\r\n                    <div className=\"bg-red-50 text-red-600 p-3 rounded-lg text-sm text-center\">\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"space-y-4\">\r\n                    <div>\r\n                        <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">Email address</label>\r\n                        <input\r\n                            id=\"email\"\r\n                            type=\"email\"\r\n                            autoComplete=\"email\"\r\n                            className=\"mt-1 appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n                            placeholder=\"user@example.com (Mock)\"\r\n                            {...register('email')}\r\n                        />\r\n                        {errors.email && <p className=\"text-red-500 text-xs mt-1\">{errors.email.message}</p>}\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">Password</label>\r\n                        <input\r\n                            id=\"password\"\r\n                            type=\"password\"\r\n                            autoComplete=\"current-password\"\r\n                            className=\"mt-1 appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n                            placeholder=\"password\"\r\n                            {...register('password')}\r\n                        />\r\n                        {errors.password && <p className=\"text-red-500 text-xs mt-1\">{errors.password.message}</p>}\r\n                    </div>\r\n\r\n                    <div className=\"pt-2\">\r\n                        <SimpleCaptcha onValidate={setIsCaptchaValid} />\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loginMutation.isPending || !isCaptchaValid}\r\n                        className=\"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all\"\r\n                    >\r\n                        {loginMutation.isPending ? 'Memproses...' : 'Masuk'}\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"text-center text-xs text-gray-400 mt-4\">\r\n                    Gunakan <b>user@example.com</b> & <b>password</b> untuk demo.\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;;AAWA,MAAM,SAAS,kMAAC,CAAC,MAAM,CAAC;IACpB,OAAO,kMAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,UAAU,kMAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAChC;AAIe,SAAS;IACpB,MAAM,SAAS,IAAA,+JAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iOAAQ,EAAC;IACnC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iOAAQ,EAAC;IAErD,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,WAAW,EAAE,MAAM,EAAE,EAAE,GAAG,IAAA,yLAAO,EAAY;QACzE,UAAU,IAAA,6LAAW,EAAC;IAC1B;IAEA,MAAM,gBAAgB,IAAA,6MAAW,EAAC;QAC9B,YAAY,iKAAO,CAAC,KAAK;QACzB,WAAW;YACP,6DAA6D;YAC7D,OAAO,IAAI,CAAC;QAChB;QACA,SAAS,CAAC;YACN,SAAS,IAAI,OAAO,IAAI;QAC5B;IACJ;IAEA,MAAM,WAAW,CAAC;QACd,IAAI,CAAC,gBAAgB;YACjB,SAAS;YACT;QACJ;QACA,SAAS;QACT,cAAc,MAAM,CAAC;IACzB;IAEA,qBACI,8PAAC;;0BACG,8PAAC;gBAAI,WAAU;;kCACX,8PAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,8PAAC;wBAAE,WAAU;;4BAA6B;4BACpB;0CAClB,8PAAC,uLAAI;gCAAC,MAAK;gCAAiB,WAAU;0CAAoD;;;;;;;;;;;;;;;;;;0BAMlG,8PAAC;gBAAK,WAAU;gBAAiB,UAAU,aAAa;;oBACnD,uBACG,8PAAC;wBAAI,WAAU;kCACV;;;;;;kCAIT,8PAAC;wBAAI,WAAU;;0CACX,8PAAC;;kDACG,8PAAC;wCAAM,SAAQ;wCAAQ,WAAU;kDAA0C;;;;;;kDAC3E,8PAAC;wCACG,IAAG;wCACH,MAAK;wCACL,cAAa;wCACb,WAAU;wCACV,aAAY;wCACX,GAAG,SAAS,QAAQ;;;;;;oCAExB,OAAO,KAAK,kBAAI,8PAAC;wCAAE,WAAU;kDAA6B,OAAO,KAAK,CAAC,OAAO;;;;;;;;;;;;0CAEnF,8PAAC;;kDACG,8PAAC;wCAAM,SAAQ;wCAAW,WAAU;kDAA0C;;;;;;kDAC9E,8PAAC;wCACG,IAAG;wCACH,MAAK;wCACL,cAAa;wCACb,WAAU;wCACV,aAAY;wCACX,GAAG,SAAS,WAAW;;;;;;oCAE3B,OAAO,QAAQ,kBAAI,8PAAC;wCAAE,WAAU;kDAA6B,OAAO,QAAQ,CAAC,OAAO;;;;;;;;;;;;0CAGzF,8PAAC;gCAAI,WAAU;0CACX,cAAA,8PAAC;oCAAc,YAAY;;;;;;;;;;;;;;;;;kCAInC,8PAAC;kCACG,cAAA,8PAAC;4BACG,MAAK;4BACL,UAAU,cAAc,SAAS,IAAI,CAAC;4BACtC,WAAU;sCAET,cAAc,SAAS,GAAG,iBAAiB;;;;;;;;;;;kCAIpD,8PAAC;wBAAI,WAAU;;4BAAyC;0CAC5C,8PAAC;0CAAE;;;;;;4BAAoB;0CAAG,8PAAC;0CAAE;;;;;;4BAAY;;;;;;;;;;;;;;;;;;;AAKrE"}}]
}